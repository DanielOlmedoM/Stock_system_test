
  <body>
    
    {{!-- <div class="busqueda-main">
      <div class="busqueda-nav">
    <h1 class="title">Busqueda</h1>
    <input type="text">
    <button>Buscar</button>
    </div>
    <table class="busqueda-table">
      <tr class="busqueda-table-head">
        <th>SKU</th>
        <th>Linea</th>
        <th>Descripción</th>
        <th>Conteo</th>
      </tr>
      {{#each tools}}
        <tr>
          <td>{{this.dataValues.sku}}</td>   
          <td>{{this.dataValues.line}}</td>
          <td>{{this.dataValues.description}}</td>
          <td>{{this.dataValues.count}}</td>
          </tr>
      {{/each}}
    </table>
    </div> --}}
    <div class="busqueda-main">
<div class="sub-header">
<h1>Buscador</h1>
</div>
  <!-- Add the search form -->
  <form action="/tools" method="get">
    <label for="search">Search: </label>
    <input type="text" id="search" name="search">
    <button type="submit">Search</button>
  </form>
</div>
  <!-- Display the search results -->
  {{#if search}}
    <p>Search results for "{{search}}":</p>
    <table class="busqueda-table">
      <tr class="busqueda-table-head">
        <th>SKU</th>
        <th>Linea</th>
        <th>Descripción</th>
        <th>Conteo</th>
        <th>Agregar</th>
      </tr>
    {{#each tools}}
      <tr>
          <td>{{this.dataValues.sku}}</td>   
          <td>{{this.dataValues.line}}</td>
          <td>{{this.dataValues.description}}</td>
          <td>{{this.dataValues.count}}</td>
          <td><img src="images/add_icon.jpg" alt="" srcset=""></td>
          </tr>
    {{/each}}
    </table>
  {{else}}
    <table class="busqueda-table">
      <tr class="busqueda-table-head">
        <th>SKU</th>
        <th>Linea</th>
        <th>Descripción</th>
        <th>Conteo</th>
        <th>Agregar</th>
      </tr>
      {{#each tools}}
        <tr>
          <td>{{this.dataValues.sku}}</td>   
          <td>{{this.dataValues.line}}</td>
          <td>{{this.dataValues.description}}</td>
          <td>{{this.dataValues.count}}</td>
          <td><img src="images/add_icon.jpg" alt="" srcset=""></td>
          </tr>
      {{/each}}
    </table>
  {{/if}}

  <script>
        // Function to perform the search
        function searchTable() {
            var input, filter, table, tr, td, i, j, txtValue;
            input = document.getElementById("search");
            filter = input.value.toUpperCase();
            table = document.querySelector(".busqueda-table");
            tr = table.getElementsByTagName("tr");

            // Loop through all table rows, starting from the second row (index 1)
            for (i = 1; i < tr.length; i++) {
                // Loop through all cells in the current row
                for (j = 0; j < tr[i].cells.length; j++) {
                    td = tr[i].cells[j];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            break; // Break the inner loop, no need to check other cells in the row
                        } else {
                            tr[i].style.display = "none";
                        }
                    }
                }
            }
        }

        // Attach the search function to the input's "input" event
        document.getElementById("search").addEventListener("input", searchTable);
    </script>

  </body>
